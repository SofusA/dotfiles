exec_always kanshi
exec_always autotiling_rs

exec "sleep 2; swaymsg workspace browser;"

mode "leader" {
    bindsym d mode "launch"
    bindsym v mode "move window"
    bindsym g mode "move to workspace"
    bindsym r mode "resize"
    bindsym h mode "cursor"; seat * hide_cursor when-typing disable

    bindsym w kill
    bindsym f fullscreen
    bindsym p exec grim -g "$(slurp -d)" - | wl-copy

    bindsym j focus left
    bindsym k focus down
    bindsym i focus up
    bindsym l focus right

    bindsym b workspace browser
    bindsym c workspace code
    bindsym m workspace music
    bindsym t workspace teams
    bindsym s workspace services

    bindsym Escape mode "default"
}

bindsym F1 mode "leader"

bar {
    status_command while LANG=da_DK date +'%A %d. %B %H:%M'; do sleep 10; done
    position top
    mode dock
    height 19
    colors {
        statusline #ffffff
        background #32323200
        focused_workspace #32323200 #32323200 #ffffff
        inactive_workspace #32323200 #32323200 #5c5c5c
        urgent_workspace #32323200 #32323200 #ff0000
        font DejaVuSans 10
    }
}
    
set $term foot -t foot
set $shell $term -e fish
set $browser flatpak run org.mozilla.firefox
set $menu wofi -I -S drun

mode "launch" {
    bindsym t exec 'flatpak run com.microsoft.Edge --app=https://teams.microsoft.com & flatpak run com.google.Chrome --app=https://teams.microsoft.com'
    bindsym Return exec $shell
    bindsym b exec $browser
    bindsym d exec $menu
    bindsym s exec flatpak run com.slack.Slack
    bindsym c exec flatpak run sh.cider.cider

    bindsym Escape mode "default"
}

mode "move window" {
    bindsym j move left
    bindsym k move down
    bindsym i move up
    bindsym l move right

    bindsym Escape mode "default"
}

mode "move to workspace" {
    bindsym b move container to workspace browser
    bindsym c move container to workspace code
    bindsym m move container to workspace music
    bindsym t move container to workspace teams
    bindsym s move container to workspace services

    bindsym Escape mode "default"
}

mode "cursor" {
    bindsym j seat * cursor move -10 0
    bindsym l seat * cursor move 10 0
    bindsym i seat * cursor move 0 -10
    bindsym k seat * cursor move 0 10

    bindsym s seat * cursor move -50 0
    bindsym f seat * cursor move 50 0
    bindsym e seat * cursor move 0 -50
    bindsym d seat * cursor move 0 50

    bindsym u seat * cursor press BTN_LEFT; seat * cursor release BTN_LEFT
    bindsym w seat * cursor press BTN_LEFT; seat * cursor release BTN_LEFT
    bindsym o seat * cursor press BTN_RIGHT; seat * cursor release BTN_RIGHT
    bindsym r seat * cursor press BTN_RIGHT; seat * cursor release BTN_RIGHT

    bindsym Escape mode "default"; seat * hide_cursor when-typing enable
}
    
mode "resize" {
    bindsym h resize shrink width 20px
    bindsym j resize grow height 20px
    bindsym k resize shrink height 20px
    bindsym l resize grow width 20px
    bindsym g floating toggle

    bindsym Escape mode "default"
}

          
# Input configuration
    input type:keyboard {
        xkb_layout "dk"
    }

#seat * hide_cursor when-typing enable

# Styling
    ## Hide borders
    default_border pixel 2
    smart_borders on

    ## Set colors
    set $colour_bg #171717
    set $colour_fg #eff1f5
    set $colour_br #225a9a
    set $colour_ia #232425

    # class              	border 	        backgr.text    indicator 	child_border
    client.focused          $colour_bg     	$colour_br     	$colour_fg     	$colour_br       $colour_br
    client.focused_inactive $colour_bg     	$colour_bg     	$colour_fg     	$colour_bg       $colour_bg
    client.unfocused        $colour_bg     	$colour_bg     	$colour_fg     	$colour_bg       $colour_bg
    #client.urgent          $colour_br     	$colour_br     	$colour_fg     	$colour_bg       $colour_br #currently not implemented
    #client.placeholder     $colour_br     	$colour_br     	$colour_fg     	$colour_bg       $colour_br #currently not implemented
    client.background $colour_bg

# Set inner/outer gaps
    gaps inner 10
    gaps outer 0

include /etc/sway/config.d/*.conf
include /usr/share/sway/config.d/50-*.conf
include /usr/share/sway/config.d/95-*.conf
include /usr/share/sway/config.d/60-bindings-media.conf
include /usr/share/sway/config.d/60-bindings-volume.conf

#    exec swayidle -w \
#        timeout 300 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"'
# floating_modifier $mod normal
